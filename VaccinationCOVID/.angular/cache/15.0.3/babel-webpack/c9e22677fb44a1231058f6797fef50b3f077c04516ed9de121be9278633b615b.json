{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { HttpHeaders } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport let SignUpEnvoiFormService = /*#__PURE__*/(() => {\n  class SignUpEnvoiFormService {\n    constructor(httpClient) {\n      this.httpClient = httpClient;\n      this.isSuccessful = false;\n      this.isSignupFailed = false;\n      this.errorMessage = '';\n      this.etag = [];\n      this.flag = false;\n    }\n    saveCompte(username, password, nom, prenom) {\n      return __awaiter(this, void 0, void 0, function* () {\n        const compte = {\n          username: username,\n          password: password,\n          nom: nom,\n          prenom: prenom\n        };\n        let ifMatch = new HttpHeaders({\n          'Cache-Control': 'no-cache',\n          \"If-Match\": this.etag\n        });\n        let flag2;\n        let flagPromise = new Promise(flag => flag2 = flag);\n        this.httpClient.post(\"login/nouveau\", compte, {\n          observe: \"response\",\n          headers: ifMatch\n        }).subscribe({\n          next: data => {\n            console.log(\"succès\");\n            console.log(\"data body : \" + data.body);\n            this.isSuccessful = true;\n            this.isSignupFailed = false;\n            this.etag = [data.headers.get(\"ETag\")];\n            this.flag = true;\n            flag2(this.flag);\n          },\n          error: err => {\n            this.errorMessage = err.error.message;\n            this.isSignupFailed = true;\n            this.isSuccessful = false;\n            this.flag = false;\n          }\n        }); /*\r\n            data => {\r\n               console.log(\"succès\")\r\n               console.log(data)\r\n            }\r\n            );*/\n      });\n    }\n  }\n\n  SignUpEnvoiFormService.ɵfac = function SignUpEnvoiFormService_Factory(t) {\n    return new (t || SignUpEnvoiFormService)(i0.ɵɵinject(i1.HttpClient));\n  };\n  SignUpEnvoiFormService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: SignUpEnvoiFormService,\n    factory: SignUpEnvoiFormService.ɵfac,\n    providedIn: 'root'\n  });\n  return SignUpEnvoiFormService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}