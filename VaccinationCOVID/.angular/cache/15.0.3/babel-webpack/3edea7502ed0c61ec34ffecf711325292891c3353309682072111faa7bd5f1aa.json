{"ast":null,"code":"import { interval } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../vaccination-center.service\";\nimport * as i3 from \"../envoi-formulaire.service\";\nimport * as i4 from \"../general-http-interceptor.service\";\nexport let QueueComponent = /*#__PURE__*/(() => {\n  class QueueComponent {\n    constructor(route, service, service2, router, interceptor) {\n      this.route = route;\n      this.service = service;\n      this.service2 = service2;\n      this.router = router;\n      this.interceptor = interceptor;\n      this.infos = '';\n      this.temps = 0;\n      this.difference = 0;\n      this.tempsRestant = 0;\n      this.temps = this.route.snapshot.params['temps'];\n      console.log(\"param : \", this.temps);\n    }\n    ngOnInit() {\n      this.subscription = interval(1000).subscribe(x => {\n        this.updateTime();\n      });\n    }\n    ngOnDestroy() {\n      this.subscription.unsubscribe();\n      this.router.navigateByUrl(\"/home\");\n    }\n    updateTime() {\n      this.tempsRestant = this.temps - this.difference;\n      this.difference = this.difference + 1;\n      console.log(\"temps restant = \", this.tempsRestant);\n      if (this.tempsRestant == 0) {\n        this.ngOnDestroy();\n      }\n    }\n  }\n  QueueComponent.ɵfac = function QueueComponent_Factory(t) {\n    return new (t || QueueComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.VaccinationCenterService), i0.ɵɵdirectiveInject(i3.EnvoiFormulaireService), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i4.GeneralHttpInterceptorService));\n  };\n  QueueComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: QueueComponent,\n    selectors: [[\"app-queue\"]],\n    decls: 6,\n    vars: 1,\n    template: function QueueComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h1\");\n        i0.ɵɵtext(1, \"File d'attente\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"p\");\n        i0.ɵɵtext(3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"p\");\n        i0.ɵɵtext(5, \"Vous serez redirig\\u00E9s automatiquement sur la page d'accueil \\u00E0 la fin du d\\u00E9compte.\");\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"Veuillez attendre \", ctx.tempsRestant, \" secondes avant de prendre un rendez-vous.\");\n      }\n    }\n  });\n  return QueueComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}