{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./_services/token-storage.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nfunction AppComponent_a_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 9);\n    i0.ɵɵtext(1, \"Home \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_li_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 4)(1, \"a\", 10);\n    i0.ɵɵtext(2, \"Admin Board\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AppComponent_li_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 4)(1, \"a\", 11);\n    i0.ɵɵtext(2, \"Medecin Board\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AppComponent_li_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 4)(1, \"a\", 12);\n    i0.ɵɵtext(2, \"SuperAdmin Board\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AppComponent_ul_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 13)(1, \"li\", 4)(2, \"a\", 14);\n    i0.ɵɵtext(3, \"Sign Up\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"li\", 4)(5, \"a\", 15);\n    i0.ɵɵtext(6, \"Login\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction AppComponent_ul_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ul\", 13)(1, \"li\", 4)(2, \"a\", 16);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"li\", 4)(5, \"a\", 17);\n    i0.ɵɵlistener(\"click\", function AppComponent_ul_11_Template_a_click_5_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.logout());\n    });\n    i0.ɵɵtext(6, \"LogOut\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r5.username);\n  }\n}\nexport class AppComponent {\n  constructor(tokenStorageService) {\n    this.tokenStorageService = tokenStorageService;\n    this.roles = [];\n    this.isLoggedIn = false;\n    this.showMedecinBoard = false;\n    this.showAdminBoard = false;\n    this.showSuperAdminBoard = false;\n    this.title = 'VaccinationCOVID';\n  }\n  ngOnInit() {\n    this.isLoggedIn = !!this.tokenStorageService.getToken();\n    if (this.isLoggedIn) {\n      const user = this.tokenStorageService.getUser();\n      this.roles = user.scopes;\n      this.showAdminBoard = this.roles.includes('ROLE_ADMIN');\n      this.showMedecinBoard = this.roles.includes('ROLE_MEDECIN');\n      this.showSuperAdminBoard = this.roles.includes('ROLE_SUPER_ADMIN');\n      this.username = user.sub;\n    }\n  }\n  logout() {\n    this.tokenStorageService.signOut();\n    window.location.reload();\n  }\n}\nAppComponent.ɵfac = function AppComponent_Factory(t) {\n  return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.TokenStorageService));\n};\nAppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppComponent,\n  selectors: [[\"app-root\"]],\n  decls: 14,\n  vars: 6,\n  consts: [[\"id\", \"app\"], [1, \"navbar\", \"navbar-expand\", \"navbar-dark\", \"bg-dark\"], [\"href\", \"#\", 1, \"navbar-brand\"], [\"routerLinkActive\", \"active\", 1, \"navbar-nav\", \"mr-auto\"], [1, \"nav-item\"], [\"href\", \"/home\", \"class\", \"nav-link\", \"routerLink\", \"home\", 4, \"ngIf\"], [\"class\", \"nav-item\", 4, \"ngIf\"], [\"class\", \"navbar-nav ml-auto\", 4, \"ngIf\"], [1, \"container\"], [\"href\", \"/home\", \"routerLink\", \"home\", 1, \"nav-link\"], [\"href\", \"/admin\", \"routerLink\", \"admin\", 1, \"nav-link\"], [\"href\", \"/medecin\", \"routerLink\", \"medecin\", 1, \"nav-link\"], [\"href\", \"/superAdmin\", \"routerLink\", \"superAdmin\", 1, \"nav-link\"], [1, \"navbar-nav\", \"ml-auto\"], [\"href\", \"/register\", \"routerLink\", \"register\", 1, \"nav-link\"], [\"href\", \"/login\", \"routerLink\", \"login\", 1, \"nav-link\"], [\"href\", \"/profile\", \"routerLink\", \"profile\", 1, \"nav-link\"], [\"href\", \"\", 1, \"nav-link\", 3, \"click\"]],\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"nav\", 1)(2, \"a\", 2);\n      i0.ɵɵtext(3, \"VaccinationCOVID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"ul\", 3)(5, \"li\", 4);\n      i0.ɵɵtemplate(6, AppComponent_a_6_Template, 2, 0, \"a\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(7, AppComponent_li_7_Template, 3, 0, \"li\", 6);\n      i0.ɵɵtemplate(8, AppComponent_li_8_Template, 3, 0, \"li\", 6);\n      i0.ɵɵtemplate(9, AppComponent_li_9_Template, 3, 0, \"li\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(10, AppComponent_ul_10_Template, 7, 0, \"ul\", 7);\n      i0.ɵɵtemplate(11, AppComponent_ul_11_Template, 7, 1, \"ul\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"div\", 8);\n      i0.ɵɵelement(13, \"router-outlet\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", !ctx.isLoggedIn);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.showAdminBoard);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.showMedecinBoard);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.showSuperAdminBoard);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.isLoggedIn);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.isLoggedIn);\n    }\n  },\n  dependencies: [i2.NgIf, i3.RouterOutlet, i3.RouterLink, i3.RouterLinkActive],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;IASUA,4BAAuE;IAAAA,qBAAK;IAAAA,iBAAI;;;;;IAElFA,6BAA4C;IACWA,2BAAW;IAAAA,iBAAI;;;;;IAEtEA,6BAA8C;IACaA,6BAAa;IAAAA,iBAAI;;;;;IAE5EA,6BAAiD;IACgBA,gCAAgB;IAAAA,iBAAI;;;;;IAKvFA,8BAAmD;IAEYA,uBAAO;IAAAA,iBAAI;IAExEA,6BAAqB;IACkCA,qBAAK;IAAAA,iBAAI;;;;;;IAIlEA,8BAAkD;IAEWA,YAAc;IAAAA,iBAAI;IAE7EA,6BAAqB;IACMA;MAAAA;MAAA;MAAA,OAASA,8BAAQ;IAAA,EAAC;IAACA,sBAAM;IAAAA,iBAAI;;;;IAHGA,eAAc;IAAdA,qCAAc;;;ACrBjF,OAAM,MAAOC,YAAY;EAUvBC,YAAoBC,mBAAwC;IAAxC,wBAAmB,GAAnBA,mBAAmB;IAR/B,UAAK,GAAa,EAAE;IAC5B,eAAU,GAAG,KAAK;IAClB,qBAAgB,GAAG,KAAK;IACxB,mBAAc,GAAG,KAAK;IACtB,wBAAmB,GAAG,KAAK;IAE7B,UAAK,GAAG,kBAAkB;EAEwC;EAEhEC,QAAQ;IACN,IAAI,CAACC,UAAU,GAAG,CAAC,CAAC,IAAI,CAACF,mBAAmB,CAACG,QAAQ,EAAE;IAEvD,IAAI,IAAI,CAACD,UAAU,EAAE;MACnB,MAAME,IAAI,GAAG,IAAI,CAACJ,mBAAmB,CAACK,OAAO,EAAE;MAC/C,IAAI,CAACC,KAAK,GAAGF,IAAI,CAACG,MAAM;MAExB,IAAI,CAACC,cAAc,GAAG,IAAI,CAACF,KAAK,CAACG,QAAQ,CAAC,YAAY,CAAC;MACvD,IAAI,CAACC,gBAAgB,GAAG,IAAI,CAACJ,KAAK,CAACG,QAAQ,CAAC,cAAc,CAAC;MAC3D,IAAI,CAACE,mBAAmB,GAAG,IAAI,CAACL,KAAK,CAACG,QAAQ,CAAC,kBAAkB,CAAC;MAElE,IAAI,CAACG,QAAQ,GAAGR,IAAI,CAACS,GAAG;;EAE5B;EAEAC,MAAM;IACJ,IAAI,CAACd,mBAAmB,CAACe,OAAO,EAAE;IAClCC,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;EAC1B;;;mBA9BWpB,YAAY;AAAA;;QAAZA,YAAY;EAAAqB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDTzB1B,8BAAc;MAEyBA,gCAAgB;MAAAA,iBAAI;MACrDA,6BAAyD;MAErDA,yDAAgF;MAClFA,iBAAK;MACLA,2DAEK;MACLA,2DAEK;MACLA,2DAEK;MAEPA,iBAAK;MAELA,6DAMY;MAGZA,6DAOK;MACPA,iBAAM;MAENA,+BAAuB;MACrBA,iCAA+B;MAEjCA,iBAAM;;;MApCoDA,eAAiB;MAAjBA,sCAAiB;MAEjDA,eAAoB;MAApBA,yCAAoB;MAGpBA,eAAsB;MAAtBA,2CAAsB;MAGtBA,eAAyB;MAAzBA,8CAAyB;MAMjBA,eAAiB;MAAjBA,sCAAiB;MASjBA,eAAgB;MAAhBA,qCAAgB","names":["i0","AppComponent","constructor","tokenStorageService","ngOnInit","isLoggedIn","getToken","user","getUser","roles","scopes","showAdminBoard","includes","showMedecinBoard","showSuperAdminBoard","username","sub","logout","signOut","window","location","reload","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\yunqi\\IdeaProjet\\ProjetFullStack\\VaccinationCOVID\\src\\app\\app.component.html","C:\\Users\\yunqi\\IdeaProjet\\ProjetFullStack\\VaccinationCOVID\\src\\app\\app.component.ts"],"sourcesContent":["<!--<div>\r\n    <router-outlet></router-outlet>\r\n</div>-->\r\n\r\n<div id=\"app\">\r\n    <nav class=\"navbar navbar-expand navbar-dark bg-dark\" >\r\n      <a href=\"#\" class=\"navbar-brand\">VaccinationCOVID</a>\r\n      <ul class=\"navbar-nav mr-auto\" routerLinkActive=\"active\">\r\n        <li class=\"nav-item\">\r\n          <a href=\"/home\" class=\"nav-link\" routerLink=\"home\" *ngIf=\"!isLoggedIn\">Home </a>\r\n        </li>\r\n        <li class=\"nav-item\" *ngIf=\"showAdminBoard\">\r\n          <a href=\"/admin\" class=\"nav-link\" routerLink=\"admin\">Admin Board</a>\r\n        </li>\r\n        <li class=\"nav-item\" *ngIf=\"showMedecinBoard\">\r\n          <a href=\"/medecin\" class=\"nav-link\" routerLink=\"medecin\">Medecin Board</a>\r\n        </li>\r\n        <li class=\"nav-item\" *ngIf=\"showSuperAdminBoard\">\r\n          <a href=\"/superAdmin\" class=\"nav-link\" routerLink=\"superAdmin\">SuperAdmin Board</a>\r\n        </li>\r\n        \r\n      </ul>\r\n  \r\n      <ul class=\"navbar-nav ml-auto\" *ngIf=\"!isLoggedIn\">\r\n        <li class=\"nav-item\">\r\n          <a href=\"/register\" class=\"nav-link\" routerLink=\"register\">Sign Up</a>\r\n        </li>\r\n        <li class=\"nav-item\">\r\n          <a href=\"/login\" class=\"nav-link\" routerLink=\"login\">Login</a>\r\n        </li></ul>\r\n      \r\n  \r\n      <ul class=\"navbar-nav ml-auto\" *ngIf=\"isLoggedIn\">\r\n        <li class=\"nav-item\">\r\n          <a href=\"/profile\" class=\"nav-link\" routerLink=\"profile\">{{ username }}</a>\r\n        </li>\r\n        <li class=\"nav-item\">\r\n          <a href class=\"nav-link\" (click)=\"logout()\">LogOut</a>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  \r\n    <div class=\"container\">\r\n      <router-outlet></router-outlet>\r\n\r\n    </div>\r\n\r\n\r\n  </div>","import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { TokenStorageService } from './_services/token-storage.service';\r\n\r\nimport { AuthenticationService } from './_services/authentication.service';\r\nimport { User } from './_models/user';\r\n\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent {\r\n  \r\n  private roles: string[] = [];\r\n  isLoggedIn = false;\r\n  showMedecinBoard = false;\r\n  showAdminBoard = false;\r\n  showSuperAdminBoard = false;\r\n  username?: string;\r\ntitle = 'VaccinationCOVID';\r\n\r\n  constructor(private tokenStorageService: TokenStorageService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.isLoggedIn = !!this.tokenStorageService.getToken();\r\n\r\n    if (this.isLoggedIn) {\r\n      const user = this.tokenStorageService.getUser();\r\n      this.roles = user.scopes;\r\n\r\n      this.showAdminBoard = this.roles.includes('ROLE_ADMIN');\r\n      this.showMedecinBoard = this.roles.includes('ROLE_MEDECIN');\r\n      this.showSuperAdminBoard = this.roles.includes('ROLE_SUPER_ADMIN');\r\n\r\n      this.username = user.sub;\r\n    }\r\n  }\r\n\r\n  logout(): void {\r\n    this.tokenStorageService.signOut();\r\n    window.location.reload();\r\n  }\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}