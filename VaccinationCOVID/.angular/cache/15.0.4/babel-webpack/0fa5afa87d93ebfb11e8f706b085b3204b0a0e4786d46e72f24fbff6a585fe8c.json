{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../vaccination-center.service\";\nimport * as i3 from \"../choixdelaville.service\";\nimport * as i4 from \"../centre-choix-service.service\";\nimport * as i5 from \"../_services/token-storage.service\";\nimport * as i6 from \"@angular/common\";\nfunction ListeCentreComponent_div_1_button_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function ListeCentreComponent_div_1_button_6_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const aCenter_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.selectCenter(aCenter_r1));\n    });\n    i0.ɵɵtext(1, \" Choisir \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListeCentreComponent_div_1_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function ListeCentreComponent_div_1_button_7_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const aCenter_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.selectCenter(aCenter_r1));\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 5);\n    i0.ɵɵelement(2, \"path\", 6)(3, \"path\", 7);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ListeCentreComponent_div_1_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function ListeCentreComponent_div_1_button_8_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const aCenter_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.selectCenter(aCenter_r1));\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 8);\n    i0.ɵɵelement(2, \"path\", 9);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ListeCentreComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 2)(2, \"div\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelement(4, \"br\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, ListeCentreComponent_div_1_button_6_Template, 2, 0, \"button\", 3);\n    i0.ɵɵtemplate(7, ListeCentreComponent_div_1_button_7_Template, 4, 0, \"button\", 3);\n    i0.ɵɵtemplate(8, ListeCentreComponent_div_1_button_8_Template, 3, 0, \"button\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"br\")(10, \"br\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const aCenter_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", aCenter_r1.nom, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate4(\" \", aCenter_r1.numAdresse, \" \", aCenter_r1.adresse, \", \", aCenter_r1.cp, \" \", aCenter_r1.comnom, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.isLoggedIn);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isLoggedIn);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isLoggedIn);\n  }\n}\nexport class ListeCentreComponent {\n  constructor(router, service, service2, service3, route, tokenStorage) {\n    this.router = router;\n    this.service = service;\n    this.service2 = service2;\n    this.service3 = service3;\n    this.route = route;\n    this.tokenStorage = tokenStorage;\n    this.isLoggedIn = false;\n    this.isLoginFailed = false;\n    this.roles = [];\n  }\n  ngOnInit() {\n    this.service2._nomVilleSubject.subscribe(nomVille => {\n      this.service.getAllVaccinationCenter(nomVille).subscribe(resultCenters => {\n        this.centers = resultCenters;\n      });\n    });\n  }\n  isSpecialCenter(center) {\n    return center.comnom == \"Nancy\";\n  }\n  VilleSelectionnee(centercity) {\n    return this.service2.getNomVille() == centercity;\n  }\n  selectCenter(center) {\n    this.selected = center;\n    this.service3.centre = center;\n    console.log(center);\n    this.router.navigate(['rdv', center.gid]);\n  }\n  onDeleted(center) {\n    delete this.selected;\n    this.centers.splice(this.centers.indexOf(center), 1);\n  }\n}\nListeCentreComponent.ɵfac = function ListeCentreComponent_Factory(t) {\n  return new (t || ListeCentreComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.VaccinationCenterService), i0.ɵɵdirectiveInject(i3.ChoixdelavilleService), i0.ɵɵdirectiveInject(i4.CentreChoisieService), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i5.TokenStorageService));\n};\nListeCentreComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListeCentreComponent,\n  selectors: [[\"app-liste-centre\"]],\n  decls: 2,\n  vars: 1,\n  consts: [[1, \"divMain\"], [4, \"ngFor\", \"ngForOf\"], [1, \"centre\"], [\"class\", \"choisirBtn\", 3, \"click\", 4, \"ngIf\"], [1, \"choisirBtn\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-pencil-square\"], [\"d\", \"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z\"], [\"fill-rule\", \"evenodd\", \"d\", \"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-people-fill\"], [\"d\", \"M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7Zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm-5.784 6A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216ZM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z\"]],\n  template: function ListeCentreComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, ListeCentreComponent_div_1_Template, 11, 8, \"div\", 1);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.centers);\n    }\n  },\n  dependencies: [i6.NgForOf, i6.NgIf],\n  styles: [\"div.divMain[_ngcontent-%COMP%] {\\n  overflow-y: auto;\\n  max-height: 300px;\\n  display: inline-block;\\n}\\n\\ndiv.centre[_ngcontent-%COMP%] {\\n  border-style: solid;\\n  display: inline-block;\\n  padding: 10px;\\n  max-width: 400px;\\n  background-color: rgba(46, 81, 255, 0.1);\\n  border-color: rgba(20, 38, 127, 0.7);\\n}\\n\\nbutton.choisirBtn[_ngcontent-%COMP%] {\\n  color: white;\\n  font-weight: bold;\\n  font-size: auto;\\n  text-decoration: none;\\n  padding: 2px 3px;\\n  background-color: #222e6b;\\n}\\n\\nbutton.choisirBtn[_ngcontent-%COMP%]:hover {\\n  transform: scale(1.1);\\n  background-position: -60px;\\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);\\n}\\n\\nbutton.choisirBtn[_ngcontent-%COMP%]:active {\\n  transform: scale(1);\\n  background-position: 500px;\\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbGlzdGUtY2VudHJlL2xpc3RlLWNlbnRyZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNJLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSxxQkFBQTtBQUFKOztBQUlBO0VBQ0ksbUJBQUE7RUFDQSxxQkFBQTtFQUNBLGFBQUE7RUFDQSxnQkFBQTtFQUNBLHdDQUFBO0VBQ0Esb0NBQUE7QUFESjs7QUFJQTtFQUNJLFlBQUE7RUFDQSxpQkFBQTtFQUNBLGVBQUE7RUFDQSxxQkFBQTtFQUNBLGdCQUFBO0VBQ0EseUJBQUE7QUFESjs7QUFHQTtFQUNJLHFCQUFBO0VBQ0EsMEJBQUE7RUFDQSx3RUFBQTtBQUFKOztBQUdBO0VBQ0ksbUJBQUE7RUFDQSwwQkFBQTtFQUNBLHdFQUFBO0FBQUoiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuZGl2LmRpdk1haW57XHJcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xyXG4gICAgbWF4LWhlaWdodDogMzAwcHg7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcblxyXG59XHJcblxyXG5kaXYuY2VudHJle1xyXG4gICAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICBtYXgtd2lkdGg6IDQwMHB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDQ2LCA4MSwgMjU1LCAwLjEpO1xyXG4gICAgYm9yZGVyLWNvbG9yOiByZ2JhKDIwLCAzOCwgMTI3LCAwLjcpO1xyXG59XHJcblxyXG5idXR0b24uY2hvaXNpckJ0biB7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIGZvbnQtc2l6ZTogYXV0bztcclxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICAgIHBhZGRpbmc6IDJweCAzcHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjIyZTZiO1xyXG59XHJcbmJ1dHRvbi5jaG9pc2lyQnRuOmhvdmVye1xyXG4gICAgdHJhbnNmb3JtOiBzY2FsZSgxLjEpO1xyXG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTYwcHg7XHJcbiAgICBib3gtc2hhZG93OiAwIDNweCA2cHggcmdiYSgwLDAsMCwwLjE2KSwgMCAzcHggNnB4IHJnYmEoMCwwLDAsMC4yMyk7XHJcbn1cclxuICAgXHJcbmJ1dHRvbi5jaG9pc2lyQnRuOmFjdGl2ZXtcclxuICAgIHRyYW5zZm9ybTogc2NhbGUoMSk7XHJcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiA1MDBweDtcclxuICAgIGJveC1zaGFkb3c6IDAgMXB4IDNweCByZ2JhKDAsMCwwLDAuMTIpLCAwIDFweCAycHggcmdiYSgwLDAsMCwwLjI0KTtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;;IAQYA,iCAA+E;IAApDA;MAAAA;MAAA;MAAA;MAAA,OAASA,8CAAqB;IAAA,EAAC;IACtDA,yBACJ;IAAAA,iBAAS;;;;;;IAETA,iCAA8E;IAAnDA;MAAAA;MAAA;MAAA;MAAA,OAASA,8CAAqB;IAAA,EAAC;IACtDA,mBAAmI;IAAnIA,8BAAmI;IAC/HA,0BAAkO;IAEpOA,iBAAM;;;;;;IAEZA,iCAA8E;IAAnDA;MAAAA;MAAA;MAAA;MAAA,OAASA,+CAAqB;IAAA,EAAC;IACtDA,mBAAiI;IAAjIA,8BAAiI;IAC7HA,0BAA8O;IAChPA,iBAAM;;;;;IApBpBA,2BAAqC;IAGzBA,YACA;IAAAA,qBAAI;IACJA,YACJ;IAAAA,iBAAM;IACNA,iFAES;IAETA,iFAKS;IACTA,iFAKS;IACbA,iBAAM;IACNA,qBAAI;IACRA,iBAAM;;;;;IAtBMA,eACA;IADAA,+CACA;IACAA,eACJ;IADIA,4HACJ;IAC4DA,eAAiB;IAAjBA,yCAAiB;IAIjBA,eAAgB;IAAhBA,wCAAgB;IAMhBA,eAAgB;IAAhBA,wCAAgB;;;ACHxF,OAAM,MAAOC,oBAAoB;EAQ/BC,YAAoBC,MAAe,EACzBC,OAAiC,EACjCC,QAA+B,EAC/BC,QAA8B,EAC9BC,KAAqB,EACrBC,YAAiC;IALvB,WAAM,GAANL,MAAM;IAChB,YAAO,GAAPC,OAAO;IACP,aAAQ,GAARC,QAAQ;IACR,aAAQ,GAARC,QAAQ;IACR,UAAK,GAALC,KAAK;IACL,iBAAY,GAAZC,YAAY;IATtB,eAAU,GAAG,KAAK;IAClB,kBAAa,GAAG,KAAK;IACrB,UAAK,GAAa,EAAE;EAO2B;EAE/CC,QAAQ;IAEN,IAAI,CAACJ,QAAQ,CAACK,gBAAgB,CAACC,SAAS,CAAEC,QAAQ,IAAI;MACpD,IAAI,CAACR,OAAO,CAACS,uBAAuB,CAACD,QAAQ,CAAC,CAACD,SAAS,CAACG,aAAa,IAAE;QACtE,IAAI,CAACC,OAAO,GAAGD,aAAa;MAC9B,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EAEAE,eAAe,CAACC,MAAmB;IACjC,OAAOA,MAAM,CAACC,MAAM,IAAI,OAAO;EACjC;EAEAC,iBAAiB,CAACC,UAAkB;IAClC,OAAO,IAAI,CAACf,QAAQ,CAACgB,WAAW,EAAE,IAAED,UAAU;EAChD;EAGAE,YAAY,CAACL,MAAmB;IAC9B,IAAI,CAACM,QAAQ,GAACN,MAAM;IACpB,IAAI,CAACX,QAAQ,CAACkB,MAAM,GAAGP,MAAM;IAC7BQ,OAAO,CAACC,GAAG,CAACT,MAAM,CAAC;IACnB,IAAI,CAACd,MAAM,CAACwB,QAAQ,CAAC,CAAC,KAAK,EAACV,MAAM,CAACW,GAAG,CAAC,CAAC;EAE1C;EAEAC,SAAS,CAACZ,MAAmB;IAC3B,OAAO,IAAI,CAACM,QAAQ;IACpB,IAAI,CAACR,OAAO,CAACe,MAAM,CAAC,IAAI,CAACf,OAAO,CAACgB,OAAO,CAACd,MAAM,CAAC,EAAC,CAAC,CAAC;EACrD;;;mBA5CWhB,oBAAoB;AAAA;;QAApBA,oBAAoB;EAAA+B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDfjCpC,8BAAqB;MACjBA,sEAyBM;MACVA,iBAAM;;;MA1BuBA,eAAU;MAAVA,qCAAU","names":["i0","ListeCentreComponent","constructor","router","service","service2","service3","route","tokenStorage","ngOnInit","_nomVilleSubject","subscribe","nomVille","getAllVaccinationCenter","resultCenters","centers","isSpecialCenter","center","comnom","VilleSelectionnee","centercity","getNomVille","selectCenter","selected","centre","console","log","navigate","gid","onDeleted","splice","indexOf","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\yunqi\\IdeaProjet\\ProjetFullStack\\VaccinationCOVID\\src\\app\\liste-centre\\liste-centre.component.html","C:\\Users\\yunqi\\IdeaProjet\\ProjetFullStack\\VaccinationCOVID\\src\\app\\liste-centre\\liste-centre.component.ts"],"sourcesContent":["<div class=\"divMain\">\r\n    <div *ngFor=\"let aCenter of centers\">\r\n        <div class=\"centre\">\r\n            <div>\r\n                {{aCenter.nom}}\r\n                <br>\r\n                {{aCenter.numAdresse}} {{aCenter.adresse}}, {{aCenter.cp}} {{aCenter.comnom}} \r\n            </div>\r\n            <button class=\"choisirBtn\" (click)=\"selectCenter(aCenter)\" *ngIf=\"!isLoggedIn\">\r\n                Choisir\r\n            </button>\r\n            \r\n            <button class=\"choisirBtn\" (click)=\"selectCenter(aCenter)\" *ngIf=\"isLoggedIn\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-pencil-square\" viewBox=\"0 0 16 16\">\r\n                    <path d=\"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z\"/>\r\n                    <path fill-rule=\"evenodd\" d=\"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z\"/>\r\n                  </svg>\r\n            </button>\r\n            <button class=\"choisirBtn\" (click)=\"selectCenter(aCenter)\" *ngIf=\"isLoggedIn\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-people-fill\" viewBox=\"0 0 16 16\">\r\n                    <path d=\"M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7Zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm-5.784 6A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216ZM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z\"/>\r\n                  </svg>\r\n\r\n            </button>\r\n        </div>\r\n        <br><br>\r\n    </div>\r\n</div>\r\n\r\n<!--\r\n\r\n    <div *ngIf=\"VilleSelectionnee(aCenter.comnom)\">\r\n        {{aCenter.nom}}\r\n    </div>\r\n\r\n    <button (click)=\"selectCenter(aCenter)\">\r\n        {{aCenter.name}} {{aCenter.city}}\r\n    </button>\r\n\r\n    <app-choix-centre [center]=\"selected\" (deleted)=\"onDeleted($event)\"></app-choix-centre>\r\n\r\n    <div *ngIf=\"selected\" class=\"detail\">\r\n    <h2>{{selected.name | uppercase}}</h2>\r\n    <div>{{selected.address}} \r\n        <span> {{selected.postalCode}} {{selected.city}}</span>\r\n    </div>\r\n</div>\r\n-->","import { Component, EventEmitter, Input, OnInit, Output, SimpleChange } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { CentreChoisieService } from '../centre-choix-service.service';\r\nimport { ChoixCentre } from '../choix-centre/choix-centre';\r\nimport { ChoixVilleComponent } from '../choix-ville/choix-ville.component';\r\nimport { ChoixdelavilleService } from '../choixdelaville.service';\r\nimport { VaccinationCenterService } from '../vaccination-center.service';\r\nimport { TokenStorageService } from '../_services/token-storage.service';\r\n\r\n@Component({\r\n  selector: 'app-liste-centre',\r\n  templateUrl: './liste-centre.component.html',\r\n  styleUrls: ['./liste-centre.component.scss']\r\n})\r\nexport class ListeCentreComponent implements OnInit {\r\n\r\n  centers!: ChoixCentre[];\r\n  selected?: ChoixCentre\r\n  isLoggedIn = false;\r\n  isLoginFailed = false;\r\n  roles: string[] = [];\r\n\r\n  constructor(private router : Router,\r\n    private service: VaccinationCenterService, \r\n    private service2: ChoixdelavilleService, \r\n    private service3: CentreChoisieService, \r\n    private route: ActivatedRoute,\r\n    private tokenStorage: TokenStorageService) { }\r\n\r\n  ngOnInit(): void {\r\n   \r\n    this.service2._nomVilleSubject.subscribe((nomVille) => {\r\n      this.service.getAllVaccinationCenter(nomVille).subscribe(resultCenters=>{\r\n        this.centers = resultCenters;\r\n      });\r\n    })\r\n  }\r\n\r\n  isSpecialCenter(center: ChoixCentre){\r\n    return center.comnom == \"Nancy\";\r\n  }\r\n\r\n  VilleSelectionnee(centercity: string){\r\n    return this.service2.getNomVille()==centercity;\r\n  }\r\n\r\n\r\n  selectCenter(center: ChoixCentre){\r\n    this.selected=center;\r\n    this.service3.centre = center;\r\n    console.log(center);\r\n    this.router.navigate(['rdv',center.gid]);\r\n  \r\n  }\r\n\r\n  onDeleted(center: ChoixCentre){\r\n    delete this.selected;\r\n    this.centers.splice(this.centers.indexOf(center),1);\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}